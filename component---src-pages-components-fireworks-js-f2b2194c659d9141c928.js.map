{"version":3,"file":"component---src-pages-components-fireworks-js-f2b2194c659d9141c928.js","mappings":"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","sources":["webpack://cabin/./src/pages/components/fireworks.js"],"sourcesContent":["import * as React from \"react\";\n\nclass Fireworks extends React.Component {\n  width = 0;\n  height = 0;\n\n  style = {\n    width: \"100vw\",\n    height: \"100vh\",\n    margin: \"-8px\",\n    position: \"absolute\",\n    background: \"#000000\",\n    zIndex: -1,\n  };\n  letterStyle = {\n    width: \"100vw\",\n    height: \"100vh\",\n    color: \"#ffffff\",\n    position: \"absolute\",\n  };\n\n  componentDidMount() {\n    this.setCanvasSize();\n    window.addEventListener(\"resize\", this.setCanvasSize, false);\n  }\n\n  setCanvasSize() {\n    this.width = window.innerWidth;\n    this.height = window.innerHeight;\n    const canvas = document.getElementById(\"fireworks\");\n    canvas.width = window.innerWidth;\n    canvas.height = window.innerHeight;\n  }\n\n  handleClick = (e) => {\n    const canvas = document.getElementById(\"fireworks\");\n    const context = canvas.getContext(\"2d\");\n    const { clientX: x, clientY: y } = e;\n    this.fire(context, x, y);\n  };\n\n  clearCanvas = (context) => {\n    context.fillStyle = \"#000000\";\n    context.fillRect(0, 0, this.width, this.height);\n  };\n\n  createFireworks = (x, y) => {\n    const particles = [];\n    var hue = Math.floor(Math.random() * 361);\n    var hueVariance = 30;\n    var count = 100;\n    for (var i = 0; i < count; i++) {\n      var p = {};\n      var angle = Math.floor(Math.random() * 360);\n      p.radians = (angle * Math.PI) / 180;\n\n      p.x = x;\n      p.y = y;\n\n      p.speed = Math.random() * 10;\n      p.radius = p.speed;\n\n      p.size = Math.floor(Math.random() * 3) + 1;\n\n      p.hue =\n        Math.floor(Math.random() * (hue + hueVariance - (hue - hueVariance))) +\n        (hue - hueVariance);\n      p.brightness = Math.floor(Math.random() * 31) + 50;\n      p.alpha = (Math.floor(Math.random() * 61) + 40) / 100;\n\n      particles.push(p);\n    }\n    return particles;\n  };\n\n  drawFireWorks = (context, particles) => {\n    this.clearCanvas(context);\n    for (var i = 0; i < particles.length; i++) {\n      var p = particles[i];\n      p.x += Math.cos(p.radians) * p.radius;\n      p.y += Math.sin(p.radians) * p.radius + 0.4;\n\n      p.radius *= 1 - p.speed / 512;\n\n      p.alpha -= 0.005;\n\n      context.beginPath();\n      context.arc(p.x, p.y, p.size, 0, Math.PI * 2, false);\n      context.closePath();\n\n      context.fillStyle =\n        \"hsla(\" + p.hue + \", 100%, \" + p.brightness + \"%, \" + p.alpha + \")\";\n      context.fill();\n    }\n  };\n\n  fire = (context, x, y) => {\n    var rid;\n    const particles = this.createFireworks(x, y);\n    const tick = () => {\n      context.globalCompositeOperation = \"destination-out\";\n      context.fillStyle = \"rgba(0,0,0,\" + 10 / 100 + \")\";\n      context.fillRect(0, 0, this.width, this.height);\n      context.globalCompositeOperation = \"lighter\";\n\n      this.drawFireWorks(context, particles);\n      rid = requestAnimationFrame(tick);\n    };\n    cancelAnimationFrame(rid);\n    tick();\n  };\n\n  render() {\n    return (\n      <div className=\"fireworks\" style={this.style}>\n        <div\n          style={this.letterStyle}\n          onClick={this.handleClick}\n          onKeyDown={() => {}}\n          tabIndex=\"0\"\n          role=\"button\"\n        >\n          {this.props.children}\n        </div>\n        <canvas width={this.width} height={this.height} id=\"fireworks\"></canvas>\n      </div>\n    );\n  }\n}\n\nexport default Fireworks;\n"],"names":["Fireworks","_React$Component","_this","_len","arguments","length","args","Array","_key","call","apply","concat","width","height","style","margin","position","background","zIndex","letterStyle","color","handleClick","e","context","document","getElementById","getContext","clientX","x","clientY","y","fire","clearCanvas","fillStyle","fillRect","createFireworks","particles","hue","Math","floor","random","i","p","angle","radians","PI","speed","radius","size","brightness","alpha","push","drawFireWorks","cos","sin","beginPath","arc","closePath","fill","rid","tick","globalCompositeOperation","requestAnimationFrame","cancelAnimationFrame","_inheritsLoose","_proto","prototype","componentDidMount","this","setCanvasSize","window","addEventListener","innerWidth","innerHeight","canvas","render","React","className","onClick","onKeyDown","tabIndex","role","props","children","id"],"sourceRoot":""}