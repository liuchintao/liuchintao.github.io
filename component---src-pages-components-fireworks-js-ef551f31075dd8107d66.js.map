{"version":3,"file":"component---src-pages-components-fireworks-js-ef551f31075dd8107d66.js","mappings":"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","sources":["webpack://cabin/./src/pages/components/fireworks.js"],"sourcesContent":["import * as React from \"react\";\n\nconst isBrowser = () => typeof window !== \"undefined\";\n\nconst Fireworks = () => {\n  var width = 0;\n  var height = 0;\n  if (isBrowser()) {\n    window.addEventListener(\n      \"resize\",\n      () => {\n        width = window.innerWidth;\n        height = window.innerHeight;\n        const canvas = document.getElementById(\"fireworks\");\n        canvas.width = window.innerWidth;\n        canvas.height = window.innerHeight;\n      },\n      false\n    );\n  }\n\n  const style = {\n    width: \"100vw\",\n    height: \"100vh\",\n    margin: \"-8px\",\n    position: \"absolute\",\n    background: \"#000000\",\n    zIndex: -1,\n  };\n  const letterStyle = {\n    width: \"100vw\",\n    height: \"100vh\",\n    color: \"#ffffff\",\n    position: \"absolute\",\n  };\n  const toNewZealand = new Date(\"2023-01-07\");\n\n  const handleClick = (e) => {\n    const canvas = document.getElementById(\"fireworks\");\n    const context = canvas.getContext(\"2d\");\n    const { clientX: x, clientY: y } = e;\n    fire(context, x, y);\n  };\n\n  const calcDays = () => {\n    const gap = new Date().getTime() - toNewZealand.getTime();\n    return Math.floor(gap / 1000 / 3600 / 24);\n  };\n\n  const clearCanvas = (context) => {\n    context.fillStyle = \"#000000\";\n    context.fillRect(0, 0, width, height);\n  };\n\n  const createFireworks = (x, y) => {\n    const particles = [];\n    var hue = Math.floor(Math.random() * 361);\n    var hueVariance = 30;\n    var count = 100;\n    for (var i = 0; i < count; i++) {\n      var p = {};\n      var angle = Math.floor(Math.random() * 360);\n      p.radians = (angle * Math.PI) / 180;\n\n      p.x = x;\n      p.y = y;\n\n      p.speed = Math.random() * 10;\n      p.radius = p.speed;\n\n      p.size = Math.floor(Math.random() * 3) + 1;\n\n      p.hue =\n        Math.floor(Math.random() * (hue + hueVariance - (hue - hueVariance))) +\n        (hue - hueVariance);\n      p.brightness = Math.floor(Math.random() * 31) + 50;\n      p.alpha = (Math.floor(Math.random() * 61) + 40) / 100;\n\n      particles.push(p);\n    }\n    return particles;\n  };\n\n  const drawFireWorks = (context, particles) => {\n    clearCanvas(context);\n    for (var i = 0; i < particles.length; i++) {\n      var p = particles[i];\n      p.x += Math.cos(p.radians) * p.radius;\n      p.y += Math.sin(p.radians) * p.radius + 0.4;\n\n      p.radius *= 1 - p.speed / 512;\n\n      p.alpha -= 0.005;\n\n      context.beginPath();\n      context.arc(p.x, p.y, p.size, 0, Math.PI * 2, false);\n      context.closePath();\n\n      context.fillStyle =\n        \"hsla(\" + p.hue + \", 100%, \" + p.brightness + \"%, \" + p.alpha + \")\";\n      context.fill();\n    }\n  };\n\n  const fire = (context, x, y) => {\n    var rid;\n    const particles = createFireworks(x, y);\n    const tick = () => {\n      context.globalCompositeOperation = \"destination-out\";\n      context.fillStyle = \"rgba(0,0,0,\" + 10 / 100 + \")\";\n      context.fillRect(0, 0, width, height);\n      context.globalCompositeOperation = \"lighter\";\n\n      drawFireWorks(context, particles);\n      rid = requestAnimationFrame(tick);\n    };\n    cancelAnimationFrame(rid);\n    tick();\n  };\n\n  return (\n    <div\n      className=\"fireworks\"\n      style={style}\n      onClick={handleClick}\n      onKeyDown={() => {}}\n    >\n      <div style={letterStyle} onClick={handleClick}>\n        <h1>Dear my lover Huan</h1>\n        <h2>We have been seperated fo {calcDays()} days.</h2>\n        <h2>I miss you!</h2>\n        <p>\n          I miss you all the time, so I want to do something memorable for us.I\n          think about what can I do for us, and this blog is the result.\n        </p>\n        <p>\n          Before you going to New Zealand, you said \"You can write letter to\n          me\". I always remeber it, but you are a traveler in New Zealand,\n          without a permanent address.\n        </p>\n        <p>\n          This is my first letter to you, I will keep writing to you this way.\n        </p>\n        <p>\n          By the way, I write this website by{\" \"}\n          <a href={\"https://www.gatsbyjs.com/\"}>GatsbyJS</a> and\n          <a href={\"https://reactjs.org/\"}>ReactJS</a>. They are easy to learn.\n          And it is worth mentioning that GatsbyJS is a web framework for static\n          page website. It supports transfering markdown file to web page.\n        </p>\n        <p>\n          I want to share my life, my thinking, my English level and all of mine\n          with you. This letter is completed with the help of Google...\n        </p>\n        <p>\n          At last, I love you and I leave an egg for you, maybe you have found\n          it XD. Do you like it?\n        </p>\n        <h3>DO NOT JUDGE UI! I WILL DO IT BETTER IN FUTURE!!!!</h3>\n      </div>\n      <canvas width={width} height={height} id=\"fireworks\"></canvas>\n    </div>\n  );\n};\n\nexport default Fireworks;\n"],"names":["width","height","window","addEventListener","innerWidth","innerHeight","canvas","document","getElementById","toNewZealand","Date","handleClick","e","context","getContext","clientX","x","clientY","y","fire","drawFireWorks","particles","fillStyle","fillRect","clearCanvas","i","length","p","Math","cos","radians","radius","sin","speed","alpha","beginPath","arc","size","PI","closePath","hue","brightness","fill","rid","floor","random","angle","push","createFireworks","tick","globalCompositeOperation","requestAnimationFrame","cancelAnimationFrame","className","style","margin","position","background","zIndex","onClick","onKeyDown","color","gap","getTime","calcDays","href","id"],"sourceRoot":""}